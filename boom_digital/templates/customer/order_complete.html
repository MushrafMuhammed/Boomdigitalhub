{% extends 'customer/layout.html' %}
{% load static %}
{% block title %}
<title>Boom digital | Receipt</title>
{% endblock %}
{% block style %}
{%endblock%}

{% block searchBar %}
    <section>
        <nav class="navbar navbar-expand-lg navbar-light bg-white pt-3 pb-3">
            <div class="container">
                <a class="navbar-brand" href="{% url 'customer:home' %}"><img src="" alt=""><b>Boom digital hub</b></a>

                <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                    aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav me-auto mx-auto mb-2 mb-lg-0">
                        
                    </ul>

                    <div class="d-flex">
                        <ul class="navbar-nav me-2 mb-2 mb-lg-0">
                            {% if customer_name is not None %}
                            <li class="nav-item">
                                <a class="nav-link active" href="{% url 'customer:cartItems' %}"><svg xmlns="http://www.w3.org/2000/svg" width="33" height="33"
                                    fill="currentColor" class="bi bi-cart4" viewBox="0 0 16 16">
                                    <path
                                      d="M0 2.5A.5.5 0 0 1 .5 2H2a.5.5 0 0 1 .485.379L2.89 4H14.5a.5.5 0 0 1 .485.621l-1.5 6A.5.5 0 0 1 13 11H4a.5.5 0 0 1-.485-.379L1.61 3H.5a.5.5 0 0 1-.5-.5zM3.14 5l.5 2H5V5H3.14zM6 5v2h2V5H6zm3 0v2h2V5H9zm3 0v2h1.36l.5-2H12zm1.11 3H12v2h.61l.5-2zM11 8H9v2h2V8zM8 8H6v2h2V8zM5 8H3.89l.5 2H5V8zm0 5a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm-2 1a2 2 0 1 1 4 0 2 2 0 0 1-4 0zm9-1a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm-2 1a2 2 0 1 1 4 0 2 2 0 0 1-4 0z" />
                                  </svg><span class="position-absolute top-10px start-150 translate-middle badge rounded-pill bg-dark">
                                    {%if cartCount %}{{cartCount}}{% else %}0{% endif %}
                                    
                                  </span></a>
                            </li>
                            <li class="nav-item dropdown no-arrow">
                                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
                                    data-bs-toggle="dropdown" aria-expanded="false">

                                    <div class="img-profile rounded-circle" style="width: 33px; height: 33px; background-color: #aaa4a4;
                                            display: flex; align-items: center; justify-content: center;">
                                        <!-- Display user's initials inside a colored circle -->
                                        <b style="text-transform: capitalize;">{{ customer_name | slice:":1"|upper }}</b> 
                                    </div>
                                </a>
                                <ul class="dropdown-menu">
                                    <li>
                                        <span class="dropdown-item class_name" href="">Welcome {{ customer_name | title }}</span>
                                    </li>
                                    <li>
                                        <hr class="dropdown-divider">
                                    </li>
                                    <li><a class="dropdown-item" href="{% url 'customer:profile' %}">Profile</a></li>
                                    <li><a class="dropdown-item" href="{% url 'customer:logout' %}">Logout</a></li>
                                </ul>
                            </li>
                            {% else %}
                            <li class="nav-item">
                                <a class="nav-link active" href="{% url 'customer:login' %}"><svg
                                        xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor"
                                        class="bi bi-box-arrow-right" viewBox="0 0 16 16">
                                        <path fill-rule="evenodd"
                                            d="M10 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 1 0v-2A1.5 1.5 0 0 0 9.5 2h-8A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0v2z" />
                                        <path fill-rule="evenodd"
                                            d="M15.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L14.293 7.5H5.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z" />
                                    </svg></a>
                            </li>
                            {% endif %}
                        </ul>
                    </div>
                </div>
            </div>
        </nav>
    </section>
{% endblock %}

{%block carousel%}
{%endblock%}
{% block content %}
<div class="container mt-5 mb-5">
    <div class="d-flex justify-content-center row">
        <div class="col-md-10">
            <div class="receipt bg-white p-3 rounded">
                <img src="https://drive.google.com/uc?export=download&id=1OLZz6UUCDsTSHgiMAqB-pwc3dck6571J"
                    width="120" />
                <h4 class="mt-2 mb-3">Your Payment is Succesful!</h4>
                <h6 class="name">Hello {{invoice_details.customer.name }},</h6>
                <span class="fs-12 text-black-50">your order has been confirmed and will be shipped in two days</span>
                <hr />
                <div class="d-flex flex-row justify-content-between align-items-center order-details">
                    <div>
                        <span class="d-block fs-12">Order date</span><span
                            class="font-weight-bold">{{invoice_details.created_at }}</span>
                    </div>
                    <div>
                        <span class="d-block fs-12">Order number</span><span
                            class="font-weight-bold">{{invoice_details.order_no }}</span>
                    </div>
                    <div>
                        <span class="d-block fs-12">Payment method</span><span class="font-weight-bold">UPI</span><img
                            class="ml-1 mb-1" src="https://i.imgur.com/ZZr3Yqj.png" width="20" />
                    </div>
                    <div>
                        <span class="d-block fs-12">Shipping Address</span>
                        <span class="font-weight-bold text-success">{{invoice_details.shipping_address.name }}</span><br>
                        <span class="font-weight-bold text-success">{{invoice_details.shipping_address.address }}</span><br>
                        <span class="font-weight-bold text-success">{{invoice_details.shipping_address.place }}</span><br>
                        <span class="font-weight-bold text-success">{{invoice_details.shipping_address.phone }}</span><br>

                    </div>
                </div>
                <hr />
                {% for product in orderedProducts%}
                <div class="d-flex justify-content-between align-items-center product-details">
                    <div class="d-flex flex-row product-name-image">
                        <img class="rounded" src="{{ product.product.image.url }}" width="80" />
                        <div class="d-flex flex-column justify-content-center ml-2">
                            <div>
                                <span class="d-block font-weight-bold p-name">{{ product.product.name }}</span>
                                   
                            </div>
                            <span class="fs-12">Qty: {{ product.quantity }}pcs</span>
                        </div>
                    </div>
                    <div class="product-price">
                        <h5>₹{{ product.product.price }}</h5>
                    </div>
                </div>
                <hr />
                {%endfor%}
                <div class="mt-5 amount row">
                    <div class="d-flex justify-content-center col-md-6">
                        <img src="https://i.imgur.com/AXdWCWr.gif" width="250" height="100" />
                    </div>
                    <div class="col-md-6">
                        <div class="billing">
                            <div class="d-flex justify-content-between">
                                <span>Subtotal</span><span class="font-weight-bold">₹{{sub_total}}</span>
                            </div>
                            <div class="d-flex justify-content-between mt-2">
                                <span>Shipping fee</span>
                                {% if shipping_fee == 0 %}
                                <strong> Free </strong>
                                {% else %}
                                {{shipping_fee}}
                                {% endif %}
                                
                            </div>
                            
                            <hr />
                            <div class="d-flex justify-content-between mt-1">
                                <span class="font-weight-bold">Total</span><span
                                    class="font-weight-bold text-success">₹{{grand_total}}</span>
                            </div>
                        </div>
                    </div>
                </div>
                <span class="d-block">Expected delivery date</span><span class="font-weight-bold text-success">Approximately 5-7 days to reach at your doorstep</span><span class="d-block mt-3 text-black-50 fs-15">We will be sending a shipping confirmation
                    email when the item is
                    shipped!</span>
                <hr />
                <div class="d-flex justify-content-between align-items-center footer">
                    <div class="thanks">
                        <span class="d-block font-weight-bold">Thanks for shopping with us</span><span>Boom digital hub team</span>
                    </div>
                    <div class="d-flex flex-column justify-content-end align-items-end">
                        <span class="d-block font-weight-bold">Need Help?</span><span>Call -  97784 91391</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="d-flex justify-content-center align-items-center">
        <a href="{% url 'customer:home' %}" id="rzp-button" class="btn btn-dark">
            Continue shopping
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-left" viewBox="0 0 16 16">
                <path fill-rule="evenodd" d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"/>
            </svg>
        </a>
    </div>
    
</div>

{% endblock %}